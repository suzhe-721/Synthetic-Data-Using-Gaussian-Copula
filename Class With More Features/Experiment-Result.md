# Experiment Results for GaussianMixtureCopulaSynthesizer

## Introduction
This experiment is designed to evaluate the efficacy of the synthetic data generated by the `GaussianMixtureCopulaSynthesizer` model compared to the Synthetic Data Vault (SDV) model. The focus is on assessing how closely the generated data from each model aligns with the original dataset in terms of key statistical properties.

## Objectives
- The primary objective is to ascertain which model, `GaussianMixtureCopulaSynthesizer` or SDV, demonstrates higher accuracy in the creation of synthetic data that closely mirrors the characteristics of the original dataset.

## Methodology
The approach adopted in this experiment involves a combination of standardized and custom evaluation methods to assess the performance of the synthetic data generation models. Key aspects of the methodology include:

- **Standard Evaluation:** Utilization of the `evaluate_quality()` function from the SDV package. This function facilitates the generation of a comprehensive report, offering a standardized assessment of the synthetic data's quality.

- **Custom Analysis Functions:** Deployment of bespoke functions such as `boundary_adherence()`, `category_coverage()`, and `range_coverage()`. These functions are specifically designed to evaluate distinct aspects of each model’s performance in generating synthetic data.

- **Visualization Techniques:** Application of the `get_column_plot` method from `sdv.evaluation.single_table`. This technique is used for graphical representation and comparison of specific columns in the dataset, aiding in a visual analysis of the synthetic data’s fidelity.


## Results
### SDV Generated Synthetic Data
- **Method:** Direct import the SDV package and generate the data.
- **Result**:

| age | workclass       | fnlwgt | education | education-num | marital-status    | occupation        | relationship   | race  | sex    | capital-gain | capital-loss | hours-per-week | native-country | salary |
|-----|-----------------|--------|-----------|---------------|-------------------|-------------------|----------------|-------|--------|--------------|--------------|----------------|----------------|--------|
| 52  | Self-emp-not-inc| 147899 | 11th      | 10            | Married-civ-spouse| Tech-support      | Husband        | White | Male   | 35253        | 190          | 66             | United-States  | <=50K  |
| 22  | Self-emp-not-inc| 82206  | 11th      | 10            | Never-married     | Sales             | Wife           | Black | Male   | 57472        | 192          | 38             | United-States  | <=50K  |
| 28  | Private         | 332938 | 9th       | 6             | Never-married     | Handlers-cleaners | Not-in-family  | Black | Male   | 35           | 16           | 30             | Jamaica        | <=50K  |
| 40  | Private         | 176269 | Bachelors | 9             | Never-married     | Prof-specialty    | Husband        | White | Female | 28849        | 0            | 46             | United-States  | <=50K  |
| 63  | Local-gov       | 270964 | 9th       | 7             | Married-civ-spouse| Craft-repair      | Unmarried      | White | Male   | 85673        | 0            | 28             | Puerto-Rico    | <=50K  |
| 27  | Private         | 370492 | HS-grad   | 16            | Never-married     | Handlers-cleaners | Not-in-family  | White | Female | 85561        | 0            | 47             | Cuba           | >50K   |
| 47  | Private         | 175348 | Bachelors | 9             | Divorced          | Craft-repair      | Own-child      | White | Male   | 3200         | 680          | 36             | Mexico         | <=50K  |
| 20  | Self-emp-inc    | 311415 | Bachelors | 8             | Married-civ-spouse| Sales             | Own-child      | White | Male   | 9235         | 580          | 23             | Cuba           | <=50K  |
| 39  | Never-worked    | 128203 | Bachelors | 13            | Never-married     | Exec-managerial   | Not-in-family  | White | Female | 127          | 157          | 52             | Cuba           | <=50K  |
| 34  | Federal-gov     | 146607 | Assoc-acdm| 8             | Married-civ-spouse| Exec-managerial   | Husband        | Black | Male   | 18247        | 0            | 18             | ?              | <=50K  |

  

### GaussianMixtureCopulaSynthesizer Generated Synthetic Data
- **Method:** using `GaussianCopulaSynthesizer` and generate the data
- **Result**:

| age | workclass         | fnlwgt | education    | education-num | marital-status      | occupation          | relationship   | race              | sex    | capital-gain | capital-loss | hours-per-week | native-country | salary |
|-----|-------------------|--------|--------------|---------------|---------------------|---------------------|----------------|-------------------|--------|--------------|--------------|----------------|----------------|--------|
| 35  | Private           | 153549 | HS-grad      | 10            | Widowed             | Other-service       | Unmarried      | White             | Male   | 0            | 0            | 60             | United-States  | <=50K  |
| 39  | Self-emp-not-inc  | 221610 | HS-grad      | 9             | Never-married       | Protective-serv     | Not-in-family  | White             | Male   | 0            | 0            | 40             | United-States  | >50K   |
| 45  | Private           | 87398  | 10th         | 9             | Married-civ-spouse  | Prof-specialty      | Husband        | White             | Male   | 0            | 0            | 40             | United-States  | <=50K  |
| 81  | Private           | 148421 | HS-grad      | 9             | Married-civ-spouse  | Sales               | Not-in-family  | White             | Female | 0            | 0            | 55             | United-States  | <=50K  |
| 40  | Private           | 106365 | Prof-school  | 9             | Never-married       | Machine-op-inspct   | Own-child      | White             | Male   | 0            | 0            | 40             | United-States  | >50K   |
| 25  | Private           | 92832  | Bachelors    | 9             | Never-married       | Adm-clerical        | Wife           | White             | Female | 0            | 0            | 25             | United-States  | <=50K  |
| 43  | Private           | 159130 | HS-grad      | 3             | Never-married       | Craft-repair        | Husband        | Black             | Male   | 0            | 0            | 40             | Japan          | <=50K  |
| 54  | Private           | 292389 | Assoc-voc    | 13            | Married-civ-spouse  | Other-service       | Not-in-family  | Asian-Pac-Islander| Male   | 0            | 0            | 40             | United-States  | >50K   |
| 37  | Private           | 60760  | Bachelors    | 9             | Married-civ-spouse  | Craft-repair        | Husband        | White             | Male   | 0            | 0            | 60             | Philippines    | <=50K  |
| 49  | Private           | 397678 | Some-college | 12            | Married-civ-spouse  | Sales               | Not-in-family  | White             | Male   | 0            | 0            | 46             | Vietnam        | <=50K  |

### Original Dataset
- American Income Dataset

| age | workclass         | fnlwgt | education  | education-num | marital-status        | occupation         | relationship   | race  | sex    | capital-gain | capital-loss | hours-per-week | native-country | salary |
|-----|-------------------|--------|------------|---------------|-----------------------|--------------------|----------------|-------|--------|--------------|--------------|----------------|----------------|--------|
| 39  | State-gov         | 77516  | Bachelors  | 13            | Never-married         | Adm-clerical       | Not-in-family  | White | Male   | 2174         | 0            | 40             | United-States  | <=50K  |
| 50  | Self-emp-not-inc  | 83311  | Bachelors  | 13            | Married-civ-spouse    | Exec-managerial    | Husband        | White | Male   | 0            | 0            | 13             | United-States  | <=50K  |
| 38  | Private           | 215646 | HS-grad    | 9             | Divorced              | Handlers-cleaners  | Not-in-family  | White | Male   | 0            | 0            | 40             | United-States  | <=50K  |
| 53  | Private           | 234721 | 11th       | 7             | Married-civ-spouse    | Handlers-cleaners  | Husband        | Black | Male   | 0            | 0            | 40             | United-States  | <=50K  |
| 28  | Private           | 338409 | Bachelors  | 13            | Married-civ-spouse    | Prof-specialty     | Wife           | Black | Female | 0            | 0            | 40             | Cuba           | <=50K  |
| 37  | Private           | 284582 | Masters    | 14            | Married-civ-spouse    | Exec-managerial    | Wife           | White | Female | 0            | 0            | 40             | United-States  | <=50K  |
| 49  | Private           | 160187 | 9th        | 5             | Married-spouse-absent | Other-service      | Not-in-family  | Black | Female | 0            | 0            | 16             | Jamaica        | <=50K  |
| 52  | Self-emp-not-inc  | 209642 | HS-grad    | 9             | Married-civ-spouse    | Exec-managerial    | Husband        | White | Male   | 0            | 0            | 45             | United-States  | >50K   |
| 31  | Private           | 45781  | Masters    | 14            | Never-married         | Prof-specialty     | Not-in-family  | White | Female | 14084        | 0            | 50             | United-States  | >50K   |
| 42  | Private           | 159449 | Bachelors  | 13            | Married-civ-spouse    | Exec-managerial    | Husband        | White | Male   | 5178         | 0            | 40             | United-States  | >50K   |

### SDV Report for SDV Generated Synthetic Data:
```
Overall Quality Score: 72.42%

Properties:
Column Shapes: 75.37%
Column Pair Trends: 69.47%
```

### SDV Report for GaussianMixtureCopulaSynthesizer Generated Synthetic Data:
```
Overall Quality Score: 90.64%

Properties:
- Column Shapes: 89.93%
- Column Pair Trends: 91.36%
```

### Execution Time Detailed
This is the detailed execution time for each process that applied on a 32561 rows × 11 columns dataset with 6 numerical columns and the rest of them are categorical columns 
| Process               | Time (seconds) |
|-----------------------|----------------|
| _identify_columns     | 0.045190       |
| handle_missing_value  | 0.007002       |
| assign_intervals      | 0.010001       |
| preprocess_data       | 109.694924     |
| fit_distribution      | 25.021714      |
| compute_cdf           | 286.191299     |
| standard_gaussian     | 29.646944      |
| generate_syn_data     | 5256.166348    |
| post_process          | 0.105586       |

### Boundary Adherence For Both Model Generated Synthetic Data:
| Feature         | GaussianMixtureCopulaSynthesizer | sdv_synthetic_data |
|-----------------|----------------------------------|--------------------|
| Boundary Adherence For Feature                      |                    |                    |
| age             | 1.0                              | 1.0                |
| fnlwgt          | 1.0                              | 1.0                |
| education-num   | 1.0                              | 1.0                |
| capital-gain    | 1.0                              | 1.0                |
| capital-loss    | 1.0                              | 1.0                |
| hours-per-week  | 1.0                              | 1.0                |
| **Average**     | **1.0**                          | **1.0**            |


### Category Coverage For Both Model Generated Synthetic Data:
| Categorical Features | GaussianMixtureCopulaSynthesizer | sdv_synthetic_data |
|----------------------|----------------------------------|--------------------|
| workclass            | 1.0                              | 1.000000           |
| education            | 1.0                              | 1.000000           |
| marital-status       | 1.0                              | 1.000000           |
| occupation           | 1.0                              | 1.000000           |
| relationship         | 1.0                              | 1.000000           |
| race                 | 1.0                              | 1.000000           |
| sex                  | 1.0                              | 1.000000           |
| native-country       | 1.0                              | 0.666667           |
| salary               | 1.0                              | 1.000000           |
| **Average**          | **1.0**                          | **0.962963**       |


### Range Coverage For Both Model Generated Synthetic Data:
| Range Coverage For Feature | GaussianMixtureCopulaSynthesizer | sdv_synthetic_data |
|----------------------------|----------------------------------|--------------------|
| age                        | 1.000000                         | 1.00000            |
| fnlwgt                     | 0.811228                         | 0.54984            |
| education-num              | 1.000000                         | 1.00000            |
| capital-gain               | 0.150242                         | 1.00000            |
| capital-loss               | 0.434114                         | 0.82438            |
| hours-per-week             | 1.000000                         | 0.94898            |
| **Average**                | **0.732597**                     | **0.88720**        |

### Visualizations For The Distribution Within Some Columns:
- **Column 'age'**:
  
  - SDV: 
  ![sdv1](https://drive.google.com/uc?id=10zVxBlXiO5ZsyQuwKX4306rWOO_KNkiZ)

  - GaussianMixtureCopulaSynthesizer:
  ![self1](https://drive.google.com/uc?id=1P7bEj3EXSDb2Dpfx9hfkyBqmdrj_hxTm)

- **Column 'workclass'**:

  - SDV: 
  ![sdv2](https://drive.google.com/uc?id=1A35EbghrllbQhUb5W-HUwbl49H8GPjSp)

  - GaussianMixtureCopulaSynthesizer:
  ![self2](https://drive.google.com/uc?id=1vNby5pg-HiRdtj50GRWogDzNsrCqNYgA)
- **Column 'education-num'**:

  - SDV: 
  ![sdv3](https://drive.google.com/uc?id=1r8KxCiocTz_ENX4TpC1KhQBSoGz3srRn)

  -GaussianMixtureCopulaSynthesizer:
  ![self3](https://drive.google.com/uc?id=1abEC3QvWWYemUgg8jITHfp5DeqqxhqPV)

- **Column 'occupation'**:

  - SDV:
  ![sdv4](https://drive.google.com/uc?id=1hhEXQro8CZvueQHXgn9kVK9yncUq9Fwi)

  - GaussianMixtureCopulaSynthesizer:
  ![self4](https://drive.google.com/uc?id=1iMYrBg4aHJzPSHBjFKD959Av5GpT5GZV)

## Discussion
The same comparison is also applied to the Fraud_insurance(10000rows × 39columns), Home insurance(256136 rows × 66 columns), and travel insurance(63326rows × 11columnns) dataset, The performance of GaussianMixtureCopulaSynthesizer is better than the SDV overall
- For travel insurance
- SDV:
```
Creating report: 100%|██████████| 4/4 [00:00<00:00,  4.67it/s]

Overall Quality Score: 60.21%

Properties:
Column Shapes: 67.94%
Column Pair Trends: 52.48%
```
- GaussianMixtureCopulaSynthesizer
```
Creating report: 100%|██████████| 4/4 [00:00<00:00,  4.24it/s]

Overall Quality Score: 91.54%

Properties:
Column Shapes: 93.97%
Column Pair Trends: 89.11%
```

- For Fraud Insurance(1000 rows × 39 columns)
- SDV:
```
Creating report: 100%|██████████| 4/4 [00:08<00:00,  2.07s/it]

Overall Quality Score: 78.2%

Properties:
Column Shapes: 84.3%
Column Pair Trends: 72.09
```
- GaussianMixtureCopulaSynthesizer
```
Creating report: 100%|██████████| 4/4 [00:11<00:00,  2.91s/it]

Overall Quality Score: 80.73%

Properties:
Column Shapes: 86.48%
Column Pair Trends: 74.98%
```
## Conclusion
Based on the performance of those two models on various dataset, We can conclude that performance of the GaussianMixtureCopulaSynthesizer performs generally better than the SDV Gaussian Copula model, and all the detailed experiment result will be posted in a separate file.
- American Income Evaluation: [American_Income_eval.ipynb](American_Income_eval.ipynb)
- Travel_Insurance Evaluation: [travel_insurance_eval.ipynb](travel_insurance_eval.ipynb)
- Fraud Insurance Evaluation: [fraud_insurance_claim_evaluation.ipynb](fraud_insurance_claim_evaluation.ipynb)

